1- مقداردهی company_id بر اساس 2 رقم آخر شماره تلفن
//sql
UPDATE SABA_USERS t
SET COMPANY_ID = SUBSTR(PHONE, -2)
WHERE PHONE IS NOT NULL;

//plsql
BEGIN
    FOR rec IN (SELECT ID, PHONE FROM SABA_USERS WHERE PHONE IS NOT NULL) LOOP
        UPDATE SABA_USERS
        SET COMPANY_ID = SUBSTR(rec.PHONE, -2)
        WHERE ID = rec.ID;
    END LOOP;
    COMMIT;
END;

2- گزینش شروطی که میخوای

SELECT * 
FROM SABA_BOARD t
WHERE SHAREHOLDER_ID < 3 
   or STATUS IN (1, 2) 
   and COMPANY_ID > 5;

3- کوچیک کردن فونت STATUS

UPDATE SABA_USERS t
SET STATUS = LOWER(STATUS)
WHERE STATUS IS NOT NULL;

4- ساختن جیمیل با اسم

UPDATE SABA_USERS t
SET EMAIL = USER_NAME || '@gmail.com'
WHERE USER_NAME IS NOT NULL;

5-حذف داده
DELETE FROM SABA_BOARD
WHERE ID IS NULL ;

DELETE FROM SABA_BOARD
WHERE JOIN_DATE < TO_DATE('01-01-2024', 'MM-DD-YYYY');

DELETE FROM SABA_BOARD t
WHERE ROWID NOT IN (
    SELECT MIN(ROWID)
    FROM SABA_BOARD t
    GROUP BY ID, TYPE, SHAREHOLDER_ID, STATUS, POSITION, NAME_ID
);

6- حداقل یه حرف فارسی و انگلیسی تو PASSWORD  باشه

UPDATE SABA_USERS
SET PASSWORD = 
    SUBSTR(
        DBMS_RANDOM.STRING('X', 5) || 
        TO_CHAR(TRUNC(DBMS_RANDOM.VALUE(0, 9))),
        1, 6
    )
WHERE PASSWORD IS NOT NULL;

7- اضافه کردن ستون محاسباتی

UPDATE SABA_USERS t
SET NAME_ID = TRIM(NAME_ID);

UPDATE SABA_USERS t
SET IS_ACTIVE = 2
WHERE ID > 40;

8- RANDOM PHONE NUMBER

UPDATE SABA_USERS t
SET PHONE = '09' || TO_CHAR(TRUNC(DBMS_RANDOM.VALUE(100000000, 999999999)))
WHERE ID > 2;

UPDATE SABA_USERS t
SET PHONE = '09999999999999'
WHERE ID = 1;
